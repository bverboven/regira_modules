{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/firebase/communicator.js","webpack:///external \"axios\"","webpack:///./src/firebase/authentication-utility.js"],"names":["root","factory","exports","module","require","define","amd","a","i","window","__WEBPACK_EXTERNAL_MODULE__1__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","FirebaseError","message","statusCode","code","Error","checkResponse","response","status","data","error","statusText","console","http","url","method","config","axios","put","post","delete","AUTH_URLS","getRestUrl","action","login","email","password","returnSecureToken","communicator","idToken","refreshToken","expiresIn","userId","localId","refresh","grant_type","refresh_token","id_token","newRefreshToken","expires_in","user_id","resetPassword","requestType"],"mappings":"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","file":"authentication-utility.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"axios\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"axios\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"axios\")) : factory(root[\"axios\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","//import axios from 'axios';// need axios for IE compatibility\r\nimport axios from 'axios';\r\n\r\n\r\nclass FirebaseError extends Error {\r\n    constructor(message, statusCode) {\r\n        super(`${message} (${statusCode})`);\r\n\r\n        this.code = statusCode;\r\n    }\r\n}\r\n\r\n// response parser\r\nconst checkResponse = response => {\r\n    const statusCode = response.status;\r\n    if (statusCode < 200 || statusCode >= 400) {\r\n        const message = (response.data && response.data.error)\r\n            ? response.data.error.message\r\n            : response.statusText;\r\n        console.error(\"Firebase Error\", statusCode, { message, response });\r\n        throw new FirebaseError(message, statusCode);\r\n    }\r\n};\r\n\r\n// axios wrapper\r\nconst http = async (url, method, data) => {\r\n    const config = { url, method };\r\n    if (typeof (data) !== 'undefined') {\r\n        config.data = data;\r\n    }\r\n    const response = await axios(config);\r\n    checkResponse(response);\r\n    return response.data;\r\n};\r\n\r\n// Firebase communicator\r\nexport default {\r\n    get: url => http(url, 'get'),\r\n    put: (url, data) => http(url, 'put', data),\r\n    post: (url, data) => http(url, 'post', data),\r\n    delete: url => http(url, 'delete')\r\n};\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","import communicator from './communicator';\r\n\r\n\r\nconst AUTH_URLS = {\r\n    REFRESH_TOKEN: 'https://securetoken.googleapis.com/v1',\r\n    IDENTITY_TOOLKIT: 'https://identitytoolkit.googleapis.com/v1/accounts:'\r\n};\r\nfunction getRestUrl(url, key, action) {\r\n    return `${url}/${action}/?key=${key}`;\r\n};\r\n\r\n\r\n// Sign in with email / password\r\nexport async function login(key, email, password) {\r\n    const url = getRestUrl(AUTH_URLS.IDENTITY_TOOLKIT, key, 'accounts:verifyPassword');\r\n    const data = {\r\n        email,\r\n        password,\r\n        returnSecureToken: true\r\n    };\r\n    const {\r\n        idToken,\r\n        refreshToken,\r\n        expiresIn,\r\n        localId: userId\r\n    } = await communicator.post(url, data);\r\n    \r\n    return { idToken, refreshToken, expiresIn, userId };\r\n};\r\n// Exchange a refresh token for an ID token\r\nexport async function refresh(key, refreshToken) {\r\n    const url = getRestUrl(AUTH_URLS.REFRESH_TOKEN, key, 'token');\r\n    const data = {\r\n        grant_type: 'refresh_token',\r\n        refresh_token: refreshToken\r\n    };\r\n    const {\r\n        id_token: idToken,\r\n        refresh_token: newRefreshToken,// use 'newRefreshToken' to prevent name collision with input refreshToken\r\n        expires_in: expiresIn,\r\n        user_id: userId\r\n    } = await communicator.post(url, data);\r\n\r\n    return { idToken, refreshToken: newRefreshToken, expiresIn, userId };\r\n};\r\n// Send password reset email\r\nexport async function resetPassword(key, email) {\r\n    const url = getRestUrl(AUTH_URLS.IDENTITY_TOOLKIT, key, 'accounts:sendOobCode');\r\n    const data = {\r\n        email,\r\n        requestType: 'PASSWORD_RESET'\r\n    };\r\n    await communicator.post(url, data);\r\n\r\n    return true;\r\n};\r\n\r\n\r\n// utility object\r\nexport default {\r\n    login,\r\n    refresh,\r\n    resetPassword\r\n};"],"sourceRoot":""}