!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.regira=t():e.regira=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=32)}([function(e,t,r){"use strict";var n=r(2),s=Object.prototype.toString;function o(e){return"[object Array]"===s.call(e)}function i(e){return void 0===e}function u(e){return null!==e&&"object"==typeof e}function a(e){return"[object Function]"===s.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===s.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isUndefined:i,isDate:function(e){return"[object Date]"===s.call(e)},isFile:function(e){return"[object File]"===s.call(e)},isBlob:function(e){return"[object Blob]"===s.call(e)},isFunction:a,isStream:function(e){return u(e)&&a(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,s=arguments.length;n<s;n++)c(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]="object"==typeof r?e({},r):r}for(var n=0,s=arguments.length;n<s;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,(function(t,s){e[s]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){e.exports=r(10)},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(0);function s(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(s(t)+"="+s(e))})))})),o=i.join("&")}if(o){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";(function(t){var n=r(0),s=r(16),o={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,a={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(u=r(6)),u),transformRequest:[function(e,t){return s(t,"Accept"),s(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){a.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){a.headers[e]=n.merge(o)})),e.exports=a}).call(this,r(15))},function(e,t,r){"use strict";var n=r(0),s=r(17),o=r(3),i=r(19),u=r(22),a=r(23),c=r(7);e.exports=function(e){return new Promise((function(t,l){var h=e.data,f=e.headers;n.isFormData(h)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",g=e.auth.password||"";f.Authorization="Basic "+btoa(d+":"+g)}var y=i(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),o(y,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};s(t,l,n),p=null}},p.onabort=function(){p&&(l(c("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){l(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(c(t,e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var m=r(24),E=(e.withCredentials||a(y))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;E&&(f[e.xsrfHeaderName]=E)}if("setRequestHeader"in p&&n.forEach(f,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),l(e),p=null)})),void 0===h&&(h=null),p.send(h)}))}},function(e,t,r){"use strict";var n=r(18);e.exports=function(e,t,r,s,o){var i=new Error(e);return n(i,t,r,s,o)}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){t=t||{};var r={},s=["url","method","params","data"],o=["headers","auth","proxy"],i=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(s,(function(e){void 0!==t[e]&&(r[e]=t[e])})),n.forEach(o,(function(s){n.isObject(t[s])?r[s]=n.deepMerge(e[s],t[s]):void 0!==t[s]?r[s]=t[s]:n.isObject(e[s])?r[s]=n.deepMerge(e[s]):void 0!==e[s]&&(r[s]=e[s])})),n.forEach(i,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}));var u=s.concat(o).concat(i),a=Object.keys(t).filter((function(e){return-1===u.indexOf(e)}));return n.forEach(a,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])})),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";var n=r(0),s=r(2),o=r(11),i=r(8);function u(e){var t=new o(e),r=s(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var a=u(r(5));a.Axios=o,a.create=function(e){return u(i(a.defaults,e))},a.Cancel=r(9),a.CancelToken=r(25),a.isCancel=r(4),a.all=function(e){return Promise.all(e)},a.spread=r(26),e.exports=a,e.exports.default=a},function(e,t,r){"use strict";var n=r(0),s=r(3),o=r(12),i=r(13),u=r(8);function a(e){this.defaults=e,this.interceptors={request:new o,response:new o}}a.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=u(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[i,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},a.prototype.getUri=function(e){return e=u(this.defaults,e),s(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){a.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){a.prototype[e]=function(t,r,s){return this.request(n.merge(s||{},{method:e,url:t,data:r}))}})),e.exports=a},function(e,t,r){"use strict";var n=r(0);function s(){this.handlers=[]}s.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=s},function(e,t,r){"use strict";var n=r(0),s=r(14),o=r(4),i=r(5);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=s(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return u(e),t.data=s(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=s(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t){var r,n,s=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,c=[],l=!1,h=-1;function f(){l&&a&&(l=!1,a.length?c=a.concat(c):h=-1,c.length&&p())}function p(){if(!l){var e=u(f);l=!0;for(var t=c.length;t;){for(a=c,c=[];++h<t;)a&&a[h].run();h=-1,t=c.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||l||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(7);e.exports=function(e,t,r){var s=r.config.validateStatus;!s||s(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,s){return e.config=t,r&&(e.code=r),e.request=n,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(20),s=r(21);e.exports=function(e,t){return e&&!n(t)?s(e,t):t}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(0),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,i={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(i[t]&&s.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function s(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=s(window.location.href),function(t){var r=n.isString(t)?s(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,s,o,i){var u=[];u.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),n.isString(s)&&u.push("path="+s),n.isString(o)&&u.push("domain="+o),!0===i&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(9);function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var e;return{token:new s((function(t){e=t})),cancel:e}},e.exports=s},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t){Array.prototype.flat||(Array.prototype.flat=function(){var e=arguments[0];return(e=void 0===e?1:Math.floor(e))<1?Array.prototype.slice.call(this):function e(t,r){for(var n=t.length>>>0,s=[],o=0;o<n;){if(o in t){var i=t[o];Array.isArray(i)&&r>0?s=s.concat(e(i,r-1)):s.push(i)}o++}return s}(this,e)}),Array.prototype.flatMap||(Array.prototype.flatMap=function(){return Array.prototype.map.apply(this,arguments).flat()})},function(e,t){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,n="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,o="ArrayBuffer"in e;if(o)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=function(e){return e&&DataView.prototype.isPrototypeOf(e)},a=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};d.prototype.append=function(e,t){e=h(e),t=f(t);var r=this.map[e];this.map[e]=r?r+","+t:t},d.prototype.delete=function(e){delete this.map[h(e)]},d.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},d.prototype.set=function(e,t){this.map[h(e)]=f(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),p(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),p(e)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},b.call(v.prototype),b.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},A.error=function(){var e=new A(null,{status:0,statusText:""});return e.type="error",e};var l=[301,302,303,307,308];A.redirect=function(e,t){if(-1===l.indexOf(t))throw new RangeError("Invalid status code");return new A(null,{status:t,headers:{location:e}})},e.Headers=d,e.Request=v,e.Response=A,e.fetch=function(e,t){return new Promise((function(r,s){var o=new v(e,t),i=new XMLHttpRequest;i.onload=function(){var e,t,n={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var s=r.join(":").trim();t.append(n,s)}})),t)};n.url="responseURL"in i?i.responseURL:n.headers.get("X-Request-URL");var s="response"in i?i.response:i.responseText;r(new A(s,n))},i.onerror=function(){s(new TypeError("Network request failed"))},i.ontimeout=function(){s(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&n&&(i.responseType="blob"),o.headers.forEach((function(e,t){i.setRequestHeader(t,e)})),i.send(void 0===o._bodyInit?null:o._bodyInit)}))},e.fetch.polyfill=!0}function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function g(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function y(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function m(e){var t=new FileReader,r=y(t);return t.readAsArrayBuffer(e),r}function E(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(n&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(s&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(o&&n&&u(e))this._bodyArrayBuffer=E(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(e)&&!a(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=E(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,r,n=g(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=y(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(e,t){var r,n,s=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),c.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(s))}})),t}function A(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t){
/*! (c) Andrea Giammarchi - ISC */
var r=this||{};try{!function(e,t){if("+"!==new e("q=%2B").get("q")||"+"!==new e({q:"+"}).get("q")||"+"!==new e([["q","+"]]).get("q")||"q=%0A"!==new e("q=\n").toString()||"q=+%26"!==new e({q:" &"}).toString())throw e;r.URLSearchParams=e}(URLSearchParams)}catch(e){!function(e,t,n){"use strict";var s=e.create,o=e.defineProperty,i=/[!'\(\)~]|%20|%00/g,u=/\+/g,a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c={append:function(e,t){p(this._ungap,e,t)},delete:function(e){delete this._ungap[e]},get:function(e){return this.has(e)?this._ungap[e][0]:null},getAll:function(e){return this.has(e)?this._ungap[e].slice(0):[]},has:function(e){return e in this._ungap},set:function(e,r){this._ungap[e]=[t(r)]},forEach:function(e,r){var n=this;for(var s in n._ungap)n._ungap[s].forEach(o,s);function o(o){e.call(r,o,t(s),n)}},toJSON:function(){return{}},toString:function(){var e=[];for(var t in this._ungap)for(var r=g(t),n=0,s=this._ungap[t];n<s.length;n++)e.push(r+"="+g(s[n]));return e.join("&")}};for(var l in c)o(h.prototype,l,{configurable:!0,writable:!0,value:c[l]});function h(e){var t=s(null);switch(o(this,"_ungap",{value:t}),!0){case!e:break;case"string"==typeof e:"?"===e.charAt(0)&&(e=e.slice(1));for(var r=e.split("&"),i=0,u=r.length;i<u;i++){var a=(c=r[i]).indexOf("=");-1<a?p(t,d(c.slice(0,a)),d(c.slice(a+1))):c.length&&p(t,d(c),"")}break;case n(e):for(i=0,u=e.length;i<u;i++){var c;p(t,(c=e[i])[0],c[1])}break;case"forEach"in e:e.forEach(f,t);break;default:for(var l in e)p(t,l,e[l])}}function f(e,t){p(this,t,e)}function p(e,t,r){var s=n(r)?r.join(","):r;t in e?e[t].push(s):e[t]=[s]}function d(e){return decodeURIComponent(e.replace(u," "))}function g(e){return encodeURIComponent(e).replace(i,y)}function y(e){return a[e]}r.URLSearchParams=h}(Object,String,Array.isArray)}!function(e){var t=!1;try{t=!!Symbol.iterator}catch(e){}function r(e,r){var n=[];return e.forEach(r,n),t?n[Symbol.iterator]():{next:function(){var e=n.shift();return{done:void 0===e,value:e}}}}"forEach"in e||(e.forEach=function(e,t){var r=this,n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(s){s.length&&!(s in n)&&(n[s]=r.getAll(s)).forEach((function(n){e.call(t,n,s,r)}))}))}),"keys"in e||(e.keys=function(){return r(this,(function(e,t){this.push(t)}))}),"values"in e||(e.values=function(){return r(this,(function(e,t){this.push(e)}))}),"entries"in e||(e.entries=function(){return r(this,(function(e,t){this.push([t,e])}))}),t&&!(Symbol.iterator in e)&&(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,r,n=this.entries(),s=n.next(),o=s.done,i=[],u=Object.create(null);!o;)t=(r=s.value)[0],i.push(t),t in u||(u[t]=[]),u[t].push(r[1]),o=(s=n.next()).done;for(i.sort(),e=0;e<i.length;e++)this.delete(i[e]);for(e=0;e<i.length;e++)t=i[e],this.append(t,u[t].shift())}),function(t){var r=t.defineProperty,n=t.getOwnPropertyDescriptor,s=function(t){var r=t.append;t.append=e.append,URLSearchParams.call(t,t._usp.search.slice(1)),t.append=r},o=function(e,t){if(!(e instanceof t))throw new TypeError("'searchParams' accessed on an object that does not implement interface "+t.name)},i=function(i){var u,a,c=i.prototype,l=n(c,"searchParams"),h=n(c,"href"),f=n(c,"search");!l&&f&&f.set&&(a=function(t){function n(r,n){e.append.call(this,r,n),r=this.toString(),t.set.call(this._usp,r?"?"+r:"")}function s(r){e.delete.call(this,r),r=this.toString(),t.set.call(this._usp,r?"?"+r:"")}function o(r,n){e.set.call(this,r,n),r=this.toString(),t.set.call(this._usp,r?"?"+r:"")}return function(e,t){return e.append=n,e.delete=s,e.set=o,r(e,"_usp",{configurable:!0,writable:!0,value:t})}}(f),u=function(e,t){return r(e,"_searchParams",{configurable:!0,writable:!0,value:a(t,e)}),t},t.defineProperties(c,{href:{get:function(){return h.get.call(this)},set:function(e){var t=this._searchParams;h.set.call(this,e),t&&s(t)}},search:{get:function(){return f.get.call(this)},set:function(e){var t=this._searchParams;f.set.call(this,e),t&&s(t)}},searchParams:{get:function(){return o(this,i),this._searchParams||u(this,new URLSearchParams(this.search.slice(1)))},set:function(e){o(this,i),u(this,e)}}}))};try{i(HTMLAnchorElement),/^function|object$/.test(typeof URL)&&URL.prototype&&i(URL)}catch(e){}}(Object)}(r.URLSearchParams.prototype)},function(e,t,r){(function(e){!function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),r=function(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(r[Symbol.iterator]=function(){return r}),r},n=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},s=function(e){return decodeURIComponent(String(e).replace(/\+/g," "))};"URLSearchParams"in e&&"a=1"===new e.URLSearchParams("?a=1").toString()||function(){var s=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"===t);else if("string"===t)""!==e&&this._fromString(e);else if(e instanceof s){var r=this;e.forEach((function(e,t){r.append(t,e)}))}else{if(null===e||"object"!==t)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var n=0;n<e.length;n++){var o=e[n];if("[object Array]"!==Object.prototype.toString.call(o)&&2===o.length)throw new TypeError("Expected [string, any] as entry at index "+n+" of URLSearchParams's input");this.append(o[0],o[1])}else for(var i in e)e.hasOwnProperty(i)&&this.append(i,e[i])}},o=s.prototype;o.append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},o.delete=function(e){delete this._entries[e]},o.get=function(e){return e in this._entries?this._entries[e][0]:null},o.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},o.has=function(e){return e in this._entries},o.set=function(e,t){this._entries[e]=[String(t)]},o.forEach=function(e,t){var r;for(var n in this._entries)if(this._entries.hasOwnProperty(n)){r=this._entries[n];for(var s=0;s<r.length;s++)e.call(t,r[s],n,this)}},o.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),r(e)},o.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),r(e)},o.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),r(e)},t&&(o[Symbol.iterator]=o.entries),o.toString=function(){var e=[];return this.forEach((function(t,r){e.push(n(r)+"="+n(t))})),e.join("&")},e.URLSearchParams=s}();var o=e.URLSearchParams.prototype;"function"!=typeof o.sort&&(o.sort=function(){var e=this,t=[];this.forEach((function(r,n){t.push([n,r]),e._entries||e.delete(n)})),t.sort((function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0})),e._entries&&(e._entries={});for(var r=0;r<t.length;r++)this.append(t[r][0],t[r][1])}),"function"!=typeof o._fromString&&Object.defineProperty(o,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var t=[];this.forEach((function(e,r){t.push(r)}));for(var r=0;r<t.length;r++)this.delete(t[r])}var n,o=(e=e.replace(/^\?/,"")).split("&");for(r=0;r<o.length;r++)n=o[r].split("="),this.append(s(n[0]),n.length>1?s(n[1]):"")}})}(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(e){if(function(){try{var t=new e.URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()||function(){var t=e.URL,r=function(t,r){"string"!=typeof t&&(t=String(t));var n,s=document;if(r&&(void 0===e.location||r!==e.location.href)){(n=(s=document.implementation.createHTMLDocument("")).createElement("base")).href=r,s.head.appendChild(n);try{if(0!==n.href.indexOf(r))throw new Error(n.href)}catch(e){throw new Error("URL unable to set base "+r+" due to "+e)}}var o=s.createElement("a");if(o.href=t,n&&(s.body.appendChild(o),o.href=o.href),":"===o.protocol||!/:/.test(o.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o});var i=new e.URLSearchParams(this.search),u=!0,a=!0,c=this;["append","delete","set"].forEach((function(e){var t=i[e];i[e]=function(){t.apply(i,arguments),u&&(a=!1,c.search=i.toString(),a=!0)}})),Object.defineProperty(this,"searchParams",{value:i,enumerable:!0});var l=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==l&&(l=this.search,a&&(u=!1,this.searchParams._fromString(this.search),u=!0))}})},n=r.prototype;["hash","host","hostname","port","protocol"].forEach((function(e){!function(e){Object.defineProperty(n,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})}(e)})),Object.defineProperty(n,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(n,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),r.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},r.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},e.URL=r}(),void 0!==e.location&&!("origin"in e.location)){var t=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:t,enumerable:!0})}catch(r){setInterval((function(){e.location.origin=t()}),100)}}}(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this)}).call(this,r(31))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.r(t),r.d(t,"entities",(function(){return x})),r.d(t,"events",(function(){return O})),r.d(t,"extensions",(function(){return ye})),r.d(t,"firebase",(function(){return Ue})),r.d(t,"identity",(function(){return Ie})),r.d(t,"io",(function(){return it})),r.d(t,"polyfills",(function(){})),r.d(t,"Treelist",(function(){return ft})),r.d(t,"utilities",(function(){return pt}));var n=class{constructor(e,t,r){this.type=e,this.src=t,null!=r&&Object.keys(r).forEach(e=>{e in this||(this[e]=r[e])})}};const s=e=>{const t=e[0],r=e.splice(0,1)[0],n=r.callback||e[e.length-1],s=r.constraint||(e.length>2?e.splice(0,1).find((function(e){return e!==n&&"function"==typeof e})):void 0),o=r.scope;return{key:t||"",constraint:s,callback:n,thisScope:o}};function o(e){const t=this;e.key.split(" ").forEach((function(r){r in t.listeners||(t.listeners[r]=[]);const n={constraint:e.constraint,callback:e.callback,scope:e.thisScope,once:e.once};t.listeners[r].push(n)}))}class u{}u.injectInto=function(e){Object.defineProperties(e,{listeners:{get:function(){return"_listeners"in this||Object.defineProperty(this,"_listeners",{value:{}}),this._listeners}},on:{value:function(){const e=s([...arguments]);return o.call(this,e),this},configurable:!0},once:{value:function(){const e=s([...arguments]);return e.once=!0,o.call(this,e),this},configurable:!0},off:{value:function(e,t){if(this.listeners[e]){if(this.listeners[e].length&&"function"==typeof t){const r=this.listeners[e].findIndex((function(e){return e.callback===t}));r>=0&&this.listeners[e].splice(r,1)}this.listeners[e].length&&null!=t||delete this.listeners[e]}return this},configurable:!0},trigger:{value:async function(e,t){const r=this,s="string"==typeof e?new n(e):e,o=[];return(r.listeners[s.type]||[]).concat(r.listeners[""]).filter(n=>n&&(null==n.constraint||n.constraint.call(n.scope||r,e,t))).map(e=>(e.once&&r.off(s.type,e.callback),()=>{try{const n=e.callback.call(e.scope||r,s,t||{});return Promise.resolve(n)}catch(t){return console.error("Executing listener failed",{error:t,event:s,listener:e.callback}),Promise.resolve(t)}})).reduce((e,t)=>e.then(t).then(e=>(o.push(e),e)),Promise.resolve()).then(()=>o)},configurable:!0}})},u.injectInto(u.prototype);var a=u;class c{constructor(e,{enableCount:t=!0,defaults:r={searchObject:{}}}={}){this._defaults={...r},this._service=e,this.state={details:void 0,items:void 0,count:void 0,searchObject:this._defaults.searchObject},this.reset(),this._enableCount=!!t}async details(e){const t=this.state.details,r=[e].concat([...arguments].slice(1)),n=await this._service.details.apply(this._service,r);return this.setDetails(n),await this.trigger("change-details",{original:t,item:n}),this.state.details}async list(e={}){const t=this.state.items;this.setSearchObject(e);const r=[this.state.searchObject].concat([...arguments].slice(1)),n=await this._service.list.apply(this._service,r);return this.setItems(n),await this.trigger("change-items",{original:t,items:n}),this.state.items}async count(e={}){const t=this.state.count;this.setSearchObject(e);const r=[this.state.searchObject].concat([...arguments].slice(1)),n=await this._service.count.apply(this._service,r);return this.setCount(n),await this.trigger("change-count",{original:t,count:n}),this.state.count}async search(e=this.state.searchObject){const t={searchObject:this.state.searchObject,items:this.state.items,count:this.state.count};this.setSearchObject(e);const r=[this.state.searchObject].concat([...arguments].slice(1));let n=void 0;this._enableCount&&(n=await this._service.count.apply(this._service,r),this.setCount(n));const s=!this._enableCount||n>0?await this._service.list.apply(this._service,r):[];this.setItems(s);const o={searchObject:e,items:s,count:n};return await this.trigger("search",{original:t,state:o}),o}async save(e=this.state.details){const t=[e].concat([...arguments].slice(1)),r=await this._service.save.apply(this._service,t);if(this.setDetails(r),null!=this.state.items){const t=[...this.state.items],n=t.findIndex(t=>t.id===e.id);-1!==n?t.splice(n,1,r):t.push(r),this.setItems(t)}return await this.trigger("save-item",{original:e,saved:r}),r}async delete(e=this.state.details){const t=[e].concat([...arguments].slice(1));if(await this._service.delete.apply(this._service,t),null!=this.state.items){const t=this.state.items.filter(t=>t.id!==e.id);this.setItems(t)}return this.state.details&&this.state.details.id===e.id&&this.setDetails(null),await this.trigger("delete-item",{item:e}),e}async newItem(){return this.setDetails({})}setDetails(e){this.state.details=e}setItems(e){this.state.items=e}setCount(e){this.state.count=e}setSearchObject(e={}){this.state.searchObject=e}reset(){this.state.items=void 0,this.state.details=void 0,this.state.count=void 0,this.state.searchObject={}}}a.injectInto(c.prototype);var l=c,h=r(1),f=r.n(h);const p=(e,t,r)=>r?0===e.toLowerCase().indexOf(t.toLowerCase()):0===e.indexOf(t),d=(e,t=" \t\v\f\ufeff\n\r\u2028\u2029")=>{let r=""+e;for(let n=0;n<e.length;n++){if(!t.includes(e[n]))return r;r=r.substring(1)}return r},g=(e,t=" \t\v\f\ufeff\n\r\u2028\u2029")=>{let r=""+e;for(let n=e.length-1;n>=0;n--){if(!t.includes(e[n]))return r;r=r.substring(0,n)}return r},y=(e,t=" \t\v\f\ufeff\n\r\u2028\u2029")=>null==t?e.trim():g(d(e,t),t),m=(e=10)=>[...Array(e)].map(()=>Math.floor(62*Math.random())).map(e=>e>36?(e-26).toString(36).toUpperCase():e.toString(36)).join(""),E=e=>/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=.]+$/gi.test(e),b=e=>{const t=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OE",letters:/[\u0152\u0276]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oe",letters:/[\u0153\u1D14]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];for(let r=0;r<t.length;r++)e=e.replace(t[r].letters,t[r].base);return e},v=e=>e?e[0].toUpperCase()+e.substr(1).replace(/\s(.)/g,e=>e.toUpperCase()):"",w=e=>e?y(e.replace(/[^\w ]+/g," ").replace(/\s+/g,"-").toLowerCase(),"-"):"",A=e=>e?w(e).replace(/-/g," ").replace(/\s(.)/g,e=>e.toUpperCase()).replace(/\s/g,"").replace(/^(.)/,e=>e.toLowerCase()):"";var F={equals:(e,t,r)=>r?e.toLowerCase()===t.toLowerCase():e===t,contains:(e,t,r)=>r?-1!==e.toLowerCase().indexOf(t.toLowerCase()):-1!==e.indexOf(t),startsWith:p,endsWith:(e,t,r)=>r?-1!==e.toLowerCase().indexOf(t.toLowerCase(),e.length-t.length):-1!==e.indexOf(t,e.length-t.length),trimLeft:d,trimRight:g,trim:y,replaceAll:(e,t,r)=>e.replace(new RegExp(t,"g"),r),randomize:m,newGuid:()=>{const e=m(32);return`${e.substr(0,8)}-${e.substr(8,4)}-${e.substr(12,4)}-${e.substr(16,4)}-${e.substr(20,12)}`},isEmail:e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),isUrl:E,formatBelgianPhone:e=>{if("string"!=typeof e)return"";if(12===e.length&&0===e.indexOf("00323")){const t=e.match(/(\d{4})(\d{1})(\d{3})(\d{2})(\d{2})/);if(6==t.length)return`+${t[1].substr(2)} ${t[2]} ${t[3]} ${t[4]} ${t[5]}`}else if(13===e.length&&0===e.indexOf("00324")){const t=e.match(/(\d{4})(\d{3})(\d{2})(\d{2})(\d{2})/);if(6==t.length)return`+${t[1].substr(2)} ${t[2]} ${t[3]} ${t[4]} ${t[5]}`}return e},htmlEncode:e=>e.replace(/[\u00A0-\u9999<>&]/gim,e=>"&#"+e.charCodeAt(0)+";"),htmlDecode:e=>e.replace(/&#(\d+);/g,(e,t)=>String.fromCharCode(t)),normalizeDiacritics:b,capitalize:v,toKebabCase:w,toSnakeCase:e=>e?w(e).replace(/-+/g,"_"):"",toTrainCase:e=>e?v(w(e).replace(/-+/g," ")).replace(/\s+/g,"-"):"",toCamelCase:A,toPascalCase:e=>e?v(A(e)):"",slugify:e=>e?w(b(e)):""};var C=class{constructor(e,t,r){this.api=e,this.catalogName=t,this.version=r}async details(e){const t=await this.list();return Array.isArray(t)||null!=e?t.find(t=>t.id===e):t}async list(){const e=this.getCatalogUrl(),t=await f.a.get(e);return this.checkResponse(t),t.data}getCatalogUrl(){return`${g(this.api,"/")}/${this.catalogName}.json${this.version?"?v="+this.version:""}`}checkResponse(e){if(e.status<200||e.status>=400)throw console.error("Remote error",{response:e}),Error(`${e.statusText} (${e.status})`)}};const S=(e,t=0)=>{const r=document.createElement("meta");r.setAttribute("http-equiv","Refresh"),r.setAttribute("content",`${t}; url=${e}`),document.head.appendChild(r)};var D={redirect:S,setMetaTag:(e,t)=>{let r=document.getElementsByName(e)[0];if(null==r){const e=[...document.head.childNodes.values()].filter(e=>"META"===e.tagName).slice(-1)[0];r=document.createElement("meta"),null!=e?e.insertAdjacentElement("afterend",r):document.head.appendChild(r)}r.setAttribute("name",e),r.setAttribute("content",t)},setCanonicalTag:e=>{let t=document.querySelector("[rel=canonical]");if(null==t){const e=[...document.head.childNodes.values()].filter(e=>"META"===e.tagName).slice(-1)[0];t=document.createElement("meta"),null!=e?e.insertAdjacentElement("afterend",t):document.head.appendChild(t)}t.setAttribute("rel","canonical"),t.setAttribute("href",e)}};const _=()=>"localhost"===location.hostname||"127.0.0.1"===location.hostname,B=e=>{const t=new URL(e);return(e=>"https:"===("string"==typeof e?new URL(e):e).protocol)(t)?e:"https:"+e.substring(t.protocol.length)},j=(e,t=!1)=>Object.entries(e).filter(e=>t||null!=e[1]).map(e=>`${encodeURIComponent(e[0])}=${encodeURIComponent(e[1])}`).join("&");var T={isLocalHost:_,getHttpsUrl:B,forceHttps:e=>{const t=B(e);t===e||_()||S(t)},toQueryString:j};var x={EntityManager:l,JsonService:C,EntityService:class{constructor(e){this.listUrl=e.listUrl,this.detailsUrl=e.detailsUrl,this.countUrl=e.countUrl,this.saveUrl=e.saveUrl,this.deleteUrl=e.deleteUrl,this.version=e.version}async details(e){const t=this.getDetailsUrl(e),r=await f.a.get(t);return this.checkResponse(r),r.data}async list(e){const t=this.getListUrl(e),r=await f.a.get(t);return this.checkResponse(r),r.data}async count(e){const t=this.getCountUrl(e),r=await f.a.get(t);return this.checkResponse(r),r.data}async save(e){const t=this.getSaveUrl(e);try{const r=await f.a.post(t,e);if(console.debug("Saved response",{response:r,item:e}),this.checkResponse(r),r.data&&r.data.saved)return r.data.saved}catch(e){this.throwRemoteError("Saving failed",e)}return e}async delete(e){const t=this.getDeleteUrl(e),r=await f.a.delete(t);return this.checkResponse(r),e}getDetailsUrl(e){return this.detailsUrl.replace("{id}",e)}getListUrl(e={}){let t=this.listUrl;return Object.keys(e).length>0&&(t+="?"+j(e)),t}getCountUrl(e={}){let t=this.countUrl;return Object.keys(e).length>0&&(t+="?"+j(e)),t}getSaveUrl(e){return this.saveUrl.replace("{id}",e.id||"")}getDeleteUrl(e){return this.getDeleteUrl.replace("{id}",e.id)}checkResponse(e){if(e.status<200||e.status>=400){throw console.error("Remote error",{response:e}),Error(`${e.statusText} (${e.status})`)}}throwRemoteError(e,t){const r=Error(e);throw t.response&&(r.data=t.response.data,"errors"in r.data&&(r.errors=t.response.data.errors),r.status=t.response.status,r.statusText=t.response.statusText),r}}},O={Event:n,EventHandler:a};const U=e=>"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e),R=e=>{const t=(e,t)=>""===t?e:`${t}.${e}`,r=(e,n="",s={})=>{if(Array.isArray(e))for(let t=0;t<e.length;t++)r(e,`${n}[${t}]`,s);else if("object"!=typeof e)s[n]=e;else for(const o of Object.entries(e)){const e=o[0],i=o[1];if(Array.isArray(i))for(let o in i){const u=t(`${e}[${o}]`,n);r(i[o],u,s)}else{const o=t(e,n);"object"==typeof i&&Object.keys(i).length>0?r(i,o,s):s[o]=i}}return s};return r(e)},P=(e,t)=>{const r=(n=t)?Object.keys(n).filter(e=>void 0!==n[e]):[];var n;return!r.length||r.every(r=>{if("function"==typeof t[r])return t[r].apply(e,r);if((t[r]instanceof Date||"number"==typeof t[r])&&!(r in e)){const n=r[3].toLowerCase()+(r.length>4?r.substr(4):"");if(r.startsWith("min"))return e[n]>=t[r];if(r.startsWith("max"))return e[n]<=t[r]}const n=y(r,"*");if("string"==typeof t[r]&&"string"==typeof e[n]){var s=t[r];if(r.startsWith("*")&&r.endsWith("*"))return e[n].includes(s);if(r.startsWith("*"))return e[n].endsWith(s);if(r.endsWith("*"))return e[n].startsWith(s)}return!(r in e)||(Array.isArray(t[r])&&!Array.isArray(e[r])?t[r].includes(e[r]):Array.isArray(e[r])&&!Array.isArray(t[r])?e[r].includes(t[r]):Array.isArray(e[r])&&Array.isArray(t[r])?t[r].every(t=>e[r].includes(t)):t[r]instanceof Object?P(e[r],t[r]):e[r]===t[r])})};var I={isPlainObject:U,flattenObject:R,crawlObject:(e,t)=>t.split(".").reduce((e,t)=>null==e?null:e[t],e),mixin:(e,...t)=>{function r(e,t){return Object.keys(t).reduce((e,n)=>function(e,t,n){const s=e[n];return U(t)&&U(s)?e[n]=r(s,t):e[n]=t,e}(e,t[n],n),e)}return t.reduce((e,t)=>r(e,t),e)},filterObject:P};const k=(e,t,r)=>{let n,s,o,i,u=0,a=/(\d+)|(\D+)/g,c=/\d/;if(isFinite(r(e))&&isFinite(r(t)))return r(e)-r(t);if(n=String(r(e)).toLowerCase(),s=String(r(t)).toLowerCase(),n===s)return 0;if(!c.test(n)||!c.test(s))return n>s?1:-1;n=n.match(a),s=s.match(a);const l=n.length>s.length?s.length:n.length;for(;u<l;)if(o=n[u],i=s[u++],o!==i)return isFinite(o)&&isFinite(i)?("0"===o.charAt(0)&&(o="."+o),"0"===i.charAt(0)&&(i="."+i),o-i):o>i?1:-1;return n.length-s.length},L=(e=0,t=e)=>{if(t===e&&(e=0),t<=e){if(0===e)return 0;const r="Invalid input (max should be greater than min)";throw console.error(r,{min:e,max:t}),Error(r)}return Math.floor(Math.random()*(t-e+1))+e};var N={naturalCompare:k,getRandom:L};const $=e=>e,M=e=>Array.isArray(e),q=e=>null!=e&&"function"==typeof e[Symbol.iterator],H=e=>M(e)?e:q(e)?[...e]:Object.values(e),z=(e,t,r=$,n=$,s=r)=>{const o=[],i=H(e),u=H(t);return i.forEach(e=>{u.filter(t=>r(e)===n(t)).forEach(t=>{o.push(s(e,t))})}),o},J=(e,t,r=$,n=$)=>{const s=H(t);return H(e).filter(e=>!s.some(t=>r(e)===n(t)))},W=(e,t)=>{const r=H(e);if(!t)return r.length?r[r.length-1]:void 0;for(let e=r.length-1;e>=0;e--)if(t(r[e]))return r[e]},V=e=>[...new Set(e)],K=(e,t)=>H(e).slice(0,t),G=(e,t)=>H(e).slice(t),X=(e,t=$)=>{const r=H(e);if(r.length)return r.reduce((e,r)=>{const n=t(r);return null==e||n<e?n:e},null)},Z=(e,t=$)=>{const r=H(e);if(r.length)return r.reduce((e,r)=>{const n=t(r);return null==e||n>e?n:e},null)},Y=(e,t=$)=>H(e).reduce((e,r)=>e+t(r),0),Q=(e,t)=>Y(e,t)/e.length,ee=(e,t,r=$)=>H(e).reduce((e,n,s)=>{const o=t(n),i=r(n,s,e);return e.set(o,i)},new Map);var te={isArray:M,isIterable:q,toArray:H,newArray:e=>[...Array(e)],orderBy:(e,t=$)=>{const r=[...e];return r.sort((e,r)=>((e,t,r)=>r(e)<r(t)?-1:r(e)>r(t)?1:0)(e,r,t)),r},orderByDesc:(e,t=$)=>{const r=[...e];return r.sort((e,r)=>((e,t,r)=>r(e)>r(t)?-1:r(e)<r(t)?1:0)(e,r,t)),r},naturalSort:(e,t=$)=>{const r=[...e];return r.sort((e,r)=>k(e,r,t)),r},shuffle:e=>{const t=[...e];return[...Array(t.length)].map(()=>{const e=L(t.length-1);return t.splice(e,1)[0]})},innerJoin:z,groupBy:(e,t)=>[...ee(e,t,(e,r,n)=>{const s=t(e);return n.has(s)?n.get(s).concat(e):[e]})],groupJoin:(e,t,r=$,n=$,s=((e,t)=>[e,t]))=>{const o=H(t);return H(e).map((e,t,s)=>[e,o.filter((o,i,u)=>r(e,t,s)===n(o,i,u))]).map(([e,t])=>s(e,t))},count:(e,t)=>{const r=H(e);return t?r.filter(t).length:r.length},first:(e,t)=>{const r=H(e);return t?r.find(t):r[0]},last:W,distinctBy:(e,t)=>H(e).reduce((e,r)=>e.some(e=>t(e)===t(r))?e:e.concat([r]),[]),distinct:V,union:(e,t)=>V(H(e).concat(H(t))),take:K,skip:G,page:(e,t,r=0)=>{const n=t*r;return H(e).slice(n,n+t)},countPages:(e,t)=>{const r=H(e).length;return Math.ceil(r/t)},min:X,max:Z,sum:Y,average:Q,toMap:ee,sameContent:(e,t,r=!0)=>{if(e===t)return!0;if(null==e||null==t)return!1;const n=H(e),s=H(t);if(n.length!==s.length)return!1;if(r){for(let e=0;e<n.length;e++)if(n[e]!==s[e])return!1;return!0}return z(n,s).length===n.length},query:(e,t)=>H(e).filter(e=>P(e,t)),getEnumerator:e=>{let t=0;return{get selectedIndex(){return t},set selectedIndex(r){r>=0&&r<e.length&&(t=r)},get length(){return e.length},get current(){return t>=0&&t<e.length?e[t]:null},first(){t=0},previous:()=>(t>0&&t--,t>0),next:()=>(t<e.length-1&&t++,t<e.length),last(){t=e.length-1}}},move:(e,t,r)=>{const n=e.indexOf(t);-1!==n&&(e.splice(n,1),e.splice(r,0,t))},reFill:(e,t)=>{e.splice(0,e.length,...t)}};const{isArray:re,isIterable:ne,toArray:se,newArray:oe,...ie}=te;var ue={injectInto(e,t=!1){Object.getOwnPropertyNames(ie).forEach(r=>{"constructor"===r||!t&&e.hasOwnProperty(r)||Object.defineProperty(e,r,{value:function(){const e=[this,...arguments];return ie[r].apply(this,e)},configurable:!0})})},use(e=!1){this.injectInto(Array.prototype,e)}};const ae={last:(new Date).getTime(),log(e){const t=(new Date).getTime(),r=e?new Date(e).getTime():this.last;return this.last=t,t-r}},ce=function(e){const t=e instanceof Date?e:new Date(e),r=new Date(e instanceof Date?e.getTime():e),n=function(e){const t=-e.getTimezoneOffset(),r=t/60,n=t%60;return`${r>=0?"+":"-"}${Math.abs(r).toString().padStart(2,"0")}:${Math.abs(n).toString().padStart(2,"0")}`}(t);return r.setHours(t.getHours()+parseInt(n.split(":")[0])),`${r.toISOString().replace("Z","")}${n}`};var le={isValidDate:e=>{var t=e instanceof Date?e:new Date(e);return!isNaN(+t)},timer:ae,countDown:(e,t=1e3)=>{const r={},n=()=>{const t=new Date;let n=Math.abs(e-t)/1e3;r.days=Math.floor(n/86400),n-=86400*r.days,r.hours=Math.floor(n/3600)%24,n-=3600*r.hours,r.minutes=Math.floor(n/60)%60,n-=60*r.minutes,r.seconds=Math.floor(n)};return setInterval(n,t),n(),r},stringifyDate:ce},he={use(){Date.prototype.toJSON=function(){return ce(this)}}};const fe=(e,t=250)=>{let r,n=[];return async function(){const s=[...arguments];return clearTimeout(r),new Promise(o=>{n.push(o),r=setTimeout(()=>{r=null;const t=e(...s);for(;n.length;)n.shift()(t)},t)})}},pe=async e=>{let t=!1;const r=await e.reduce(async(e,r)=>{const n=await e,s=await Promise.resolve(r()).catch(e=>(t=!0,e));return n.push(s),n},[]);return t?Promise.reject(r):r};var de={debounceToPromise:fe,enqueue:pe},ge={use(){Promise.debounce=fe,Promise.enqueue=pe}},ye={useArrayExtensions:ue.use.bind(ue),useDateExtensions:he.use.bind(he),usePromiseExtensions:ge.use.bind(ge)};class me extends Error{constructor(e,t){super(`${e} (${t})`),this.code=t}}const Ee=async(e,t,r)=>{const n={url:e,method:t};void 0!==r&&(n.data=r);const s=await f()(n);return(e=>{const t=e.status;if(t<200||t>=400){const r=e.data&&e.data.error?e.data.error.message:e.statusText;throw console.error("Firebase Error",t,{message:r,response:e}),new me(r,t)}})(s),s.data};var be={get:e=>Ee(e,"get"),put:(e,t)=>Ee(e,"put",t),post:(e,t)=>Ee(e,"post",t),delete:e=>Ee(e,"delete")};function ve(e,t){return`${g(e,"/")}/${t}.json`}async function we(e,t,r){const n=r?function(e,t,r){return`${g(e,"/")}/${t}/${r}.json`}(e,t,r):ve(e,t);return be.get(n)}async function Ae(e,t){const r=ve(e,t),n=await be.get(r),s=Object.entries(n).map(e=>({...e[1],id:e[0]}));return s.sort((e,t)=>e.sortOrder-t.sortOrder),s}async function Fe(e,t,r){const n=!r.id,s=n?ve(e,t):getItemUrl(e,t,r.id);return be[n?"post":"put"](s,r)}async function Ce(e,t,r){const n=getItemUrl(e,t,r.id);return be.delete(n)}async function Se(e,t,r){return[...r].map(async(r,n)=>(r.sortOrder=n,await Fe(e,t,r)))}var De=class{constructor({catalogName:e,apiUrl:t}){this.apiUrl=t||arguments[0],this.catalogName=e||arguments[1]}async details(e){return we(this.apiUrl,this.catalogName,e)}async list(){return Ae(this.apiUrl,this.catalogName)}async save(e){return Fe(this.apiUrl,this.catalogName,e)}async delete(e){return Ce(this.apiUrl,this.catalogName,e)}async import(e){return Se(this.apiUrl,this.catalogName,e)}};const _e="https://securetoken.googleapis.com/v1",Be="https://identitytoolkit.googleapis.com/v1/accounts:";function je(e,t,r){return`${e}/${r}/?key=${t}`}async function Te(e,t,r){const n=je(Be,e,"accounts:verifyPassword"),s={email:t,password:r,returnSecureToken:!0},{idToken:o,refreshToken:i,expiresIn:u,localId:a}=await be.post(n,s);return{idToken:o,refreshToken:i,expiresIn:u,userId:a}}async function xe(e,t){const r=je(_e,e,"token"),n={grant_type:"refresh_token",refresh_token:t},{id_token:s,refresh_token:o,expires_in:i,user_id:u}=await be.post(r,n);return{idToken:s,refreshToken:o,expiresIn:i,userId:u}}async function Oe(e,t){const r=je(Be,e,"accounts:sendOobCode"),n={email:t,requestType:"PASSWORD_RESET"};return await be.post(r,n),!0}var Ue={EntityService:De,AuthenticationService:class{constructor(e){this.apiKey=e.apiKey||e}async login(e,t){return Te(this.apiKey,e,t)}async refresh(e){return xe(this.apiKey,e)}async resetPassword(e){return Oe(this.apiKey,e)}}};class Re{constructor({authenticationService:e,autoRefresh:t=!1}){this._service=e,this._autoRefreshTimer=null,this._autoRefresh=t,this._setState()}get autoRefresh(){return this._autoRefresh}set autoRefresh(e){this._autoRefresh=!!e,this._checkAutoRefresh()}async login(e,t){const r=await this._service.login(e,t);return this._setState(r),this._checkAutoRefresh(),this.trigger("login",{...this.state})}async refresh(){const e=await this._service.refresh(this.state.refreshToken);return this._setState(e),this._checkAutoRefresh(),this.trigger("refresh",{...this.state})}async logoff(){const e={...this.state};return this._setState(),this.trigger("logoff",e)}_setState(e=null){this.state=e?{...e,expiresAt:new Date((new Date).getTime()+1e3*e.expiresIn),isAuthenticated:!0}:{isAuthenticated:!1}}_checkAutoRefresh(){const e=this;if(this._autoRefreshTimer&&clearTimeout(this._autoRefreshTimer),this._autoRefresh){const t=Math.abs(this.state.expiresAt-new Date)-6e4;this._autoRefreshTimer=setTimeout(e.refresh,t)}}}a.injectInto(Re.prototype);var Pe=Re;var Ie={IdentityManager:Pe,DummyService:class{constructor(){console.warn("This is a dummy-service")}async login(e,t){console.warn("Not implemented: login")}async refresh(e){console.warn("Not implemented: refresh")}async resetPassword(e){console.warn("Not implemented: resetPassword")}}};function ke(e,t,r){const n=new ArrayBuffer(e.length),s=new Uint8Array(n);for(let t=0;t<e.length;t++)s[t]=e.charCodeAt(t);const o=new Blob([n],{type:r});return o.name=t,o}const Le=e=>{if(!e||!e.includes("/"))return e;if(e.endsWith("/"))throw new Error("filename cannot end with a '/'");return W(e.split("/").filter(e=>e))};var Ne={isFile:e=>null!=e&&e instanceof Blob,createUrl:e=>URL.createObjectURL(e),revokeUrl:e=>URL.revokeObjectURL(e),getFilename:Le,getExtension:e=>{const t=e.split("."),r=G(t,1),n=W(r);return n?"."+n:""},getFilenameWithoutExtension:e=>{const t=Le(e).split(".");return K(t,t.length-1||1).join(".")},toFormData:(e,t,{filesParameterName:r="files"}={})=>{var n=R(t);const s=H(e).reduce((e,t)=>(e.append(r,t,t.name),e),new FormData);return Object.entries(n).reduce((e,t)=>(e.append(t[0],t[1]),e),s)},fileToBlob:async(e,t,r)=>new Promise(n=>{const s=new FileReader;s.onload=()=>n(ke(s.result,t||e.name,r||e.type)),s.readAsBinaryString(e)}),base64ToBlob:(e,t,r)=>{let n=null;if(e.startsWith("data:")){const t=e.split(",");n=atob(W(t)),r||(r=t[0].split(":")[1].split(";")[0])}else n=e;return ke(n,t,r)},urlToBlob:async(e,t)=>{const r=await fetch(e).then(e=>e.blob());return t&&(r.name=t),r},blobToBase64:async e=>new Promise((function(t){const r=new FileReader;r.onload=e=>t(e.target.result),r.readAsDataURL(e)})),readAllText:async e=>new Promise((function(t){const r=new FileReader;r.onload=e=>t(e.target.result),r.readAsText(e)})),writeAllText:(e,t,r)=>{const n=new Blob([e],{type:r});return t&&(n.name=t),n},saveAs:(e,t)=>function(e){if(null==e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))return null;var t=e.document,r=function(){return e.URL||e.webkitURL||e},n=t.createElementNS("http://www.w3.org/1999/xhtml","a"),s="download"in n,o=/constructor/i.test(e.HTMLElement)||e.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},a=function(e){setTimeout((function(){"string"==typeof e?r().revokeObjectURL(e):e.remove()}),4e4)},c=function(e,t,r){for(var n=(t=[].concat(t)).length;n--;){var s=e["on"+t[n]];if("function"==typeof s)try{s.call(e,r||e)}catch(e){u(e)}}},l=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},h=function(t,u,h){h||(t=l(t));var f,p=this,d="application/octet-stream"===t.type,g=function(){c(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,s)return f=r().createObjectURL(t),void setTimeout((function(){n.href=f,n.download=u,function(e){var t=new MouseEvent("click");e.dispatchEvent(t)}(n),g(),a(f),p.readyState=p.DONE}));!function(){if((i||d&&o)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=i?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),p.readyState=p.DONE,g()},n.readAsDataURL(t),void(p.readyState=p.INIT)}(f||(f=r().createObjectURL(t)),d)?e.location.href=f:e.open(f,"_blank")||(e.location.href=f);p.readyState=p.DONE,g(),a(f)}()},f=h.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return t=t||e.name||"download",r||(e=l(e)),navigator.msSaveOrOpenBlob(e,t)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,function(e,t,r){return new h(e,t||e.name||"download",r)})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content)(e,t||e.name||"file")};var $e=class{async getBlob(e,t,r){let n;if(e instanceof File)return Ne.fileToBlob(e,t,r);if(e instanceof Blob)return n=e,t&&n.name!==t&&(n.name=t),n;if("string"==typeof e)return E(e)?Ne.urlToBlob(e,t,r):Ne.base64ToBlob(e,t,r);throw Error("Cannot convert input to type Blob")}async createUrl(e){const t=await this.getBlob(e);return Ne.createUrl(t)}async browse(e={}){return new Promise((function(t){const r=document.createElement("INPUT");r.setAttribute("type","file"),(null==e.multiple||e.multiple)&&r.setAttribute("multiple","true"),e.accept&&r.setAttribute("accept",Array.isArray(e.accept)?e.accept.join(","):e.accept),r.value="",r.setAttribute("style","display: none;"),r.addEventListener("change",(function e(){const n=[...this.files];r.removeEventListener("change",e),document.body.removeChild(r),t(n)})),document.body.appendChild(r),r.click()}))}async readJson(e){const t=await Ne.readAllText(e);try{return JSON.parse(t)}catch(r){throw console.error("Could not parse blob to JSON",{blob:e,content:t,error:r}),r}}async writeJson(e,t){const r=JSON.stringify(e,null,2);return Ne.writeAllText(r,t,"application/json")}async send(e,t,r={},n){const s=Ne.toFormData(t,r,n);return f()({method:"post",url:e,data:s,config:{headers:{"Content-Type":"multipart/form-data"}}})}async saveAs(e,t,r=null){const n=await this.getBlob(e,r||e.name,t||e.type);return Ne.saveAs(n,n.name||"file")}};const Me=(e,t,r)=>"#"+[e,t,r].map(e=>e.toString(16).padStart(2,"0")).join(""),qe=(e,t)=>{4===e.length&&(e="#"+H(y(e,"#").toLowerCase()).reduce((e,t)=>e+t+t,""));const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),a:null!=t?t:1}:null},He=(e,t)=>{const r=qe(e,t);return r?`rgba(${r.r}, ${r.g}, ${r.b}, ${r.a})`:null},ze=(e,t)=>{const{r:r,g:n,b:s,a:o=1}=qe(e,t);return[r,n,s,o]},Je=(e,t)=>{if(M(e)){const[t,r,n,s=1]=e;return`rgba(${t},${r},${n},${s})`}if("string"==typeof e){if(p(e,"#"))return He(e,t);if(p(e,"rgba"))return e;if(p(e,"rgb")){const r=y(e.substring("rgb".length),"()").split(",");return Je(r,t)}}return null},We=(e,t,r)=>{const[n,s,o]=[e,t,r].map(e=>255-e);return{ri:n,gi:s,bi:o}};var Ve={rgbToHex:Me,hexToRgb:qe,hexToRgbString:He,hexToRgbArray:ze,getRgbString:Je,invertRgb:We,invertHex:e=>{const t=ze(e),r=We.apply(null,t);return Me.apply(null,r)},grayscale:(e,t="average")=>{const r=K(ze(e),3);let n;switch(t){case"light":{const e=parseInt(.8*Z(r),10);n=[e,e,e];break}case"dark":{const e=parseInt(X(r),10);n=[e,e,e];break}case"weight":{const e=[.21,.72,.07],t=Y(r,(t,r)=>parseInt(t*e[r],10));n=[t,t,t];break}default:{const e=parseInt(Q(r),10);n=[e,e,e];break}}return Me.apply(null,n)}};const Ke={jpg:"image/jpeg",png:"image/png",gif:"image/gif"},Ge=Ke.jpg,Xe=async e=>{const t=await tt(e),r=new FileReader;return new Promise(e=>{r.onloadend=t=>{const r=new Uint8Array(t.target.result).subarray(0,4);let n,s="";for(var o=0;o<r.length;o++)s+=r[o].toString(16);switch(s){case"89504e47":n=Ke.png;break;case"47494638":n=Ke.gif;break;case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":n=Ke.jpg;break;default:n=void 0}e(n)},r.readAsArrayBuffer(t)})},Ze=e=>(e||Ke.jpg).replace("/jpg","/jpeg"),Ye=(e,t)=>{const r=window.document.createElement("canvas");return r.width=e,r.height=t,r},Qe=(e,t)=>{const r=e.getContext("2d");return void 0!==t&&Object.keys(t).forEach((function(n){const s=t[n];if(null!==s)switch(n){case"background-color":r.fillStyle=Je(s),r.fillRect(0,0,e.width,e.height);break;case"image":r.drawImage(s,0,0);break;default:r[n]=s}})),r},et=async e=>new Promise(t=>{const r=new Image;r.onload=()=>t(r),r.src=e}),tt=async(e,t,r)=>{const n=Ze(r);return Ne.urlToBlob(e.src,t,n)},rt=async(e,t=Ge,r=1)=>et(e.toDataURL(t,r)),nt=(e,t,r)=>{const n=Ye(t||e.width,r||e.height);return Qe(n).drawImage(e,0,0,t||e.width,r||e.height),n},st=async(e,t,r,n=Ge)=>{const s=Ze(n||await Xe(e)),o=nt(e),i=Qe(o,{"background-color":s===Ke.jpg?"#FFF":null});return i.translate(t?e.width:0,r?e.height:0),i.scale(t?-1:1,r?-1:1),(e=>{Qe(e).clearRect(0,0,e.width,e.height)})(o),i.drawImage(e,0,0),i.restore(),rt(o,s,1)};var ot={contentTypes:Ke,getImageContentType:Xe,parseContentType:Ze,urlToImage:et,blobToImage:async e=>et(Ne.createUrl(e)),imageToBlob:tt,canvasToImage:rt,imageToCanvas:nt,canvasToBlob:async(e,t=Ge,r=1)=>new Promise(n=>e.toBlob(n,t,r)),base64ToImage:async e=>et(e),imageToBase64:(e,t=Ge,r=1)=>nt(e).toDataURL(t,r),resizeByScale:async(e,t,{quality:r=1,type:n=Ge}={})=>{const s=Ze(n||await Xe(e)),o=function(e,t,r){const n=Ye(e.width,e.height);return Qe(n,{"background-color":r===Ke.jpg?"#FFF":null}).drawImage(e,0,0),function(e,t,r){var n=t*t,s=e.width,o=e.height,i=Math.floor(s*t),u=Math.floor(o*t),a=0,c=0,l=0,h=0,f=0,p=0,d=0,g=0,y=0,m=0,E=0,b=0,v=0,w=0,A=0,F=!1,C=!1,S=Qe(e).getImageData(0,0,s,o).data,D=new Float32Array(3*i*u),_=0,B=0,j=0;for(c=0;c<o;c++)for(p=3*(y=0|(f=c*t))*i,(C=y!==(0|f+t))&&(w=y+1-f,A=f+t-y-1),a=0;a<s;a++,l+=4)d=p+3*(g=0|(h=a*t)),(F=g!==(0|h+t))&&(b=g+1-h,v=h+t-g-1),_=S[l],B=S[l+1],j=S[l+2],F||C?F&&!C?(m=b*t,D[d]+=_*m,D[d+1]+=B*m,D[d+2]+=j*m,E=v*t,D[d+3]+=_*E,D[d+4]+=B*E,D[d+5]+=j*E):C&&!F?(m=w*t,D[d]+=_*m,D[d+1]+=B*m,D[d+2]+=j*m,E=A*t,D[d+3*i]+=_*E,D[d+3*i+1]+=B*E,D[d+3*i+2]+=j*E):(m=b*w,D[d]+=_*m,D[d+1]+=B*m,D[d+2]+=j*m,E=v*w,D[d+3]+=_*E,D[d+4]+=B*E,D[d+5]+=j*E,E=b*A,D[d+3*i]+=_*E,D[d+3*i+1]+=B*E,D[d+3*i+2]+=j*E,E=v*A,D[d+3*i+3]+=_*E,D[d+3*i+4]+=B*E,D[d+3*i+5]+=j*E):(D[d]+=_*n,D[d+1]+=B*n,D[d+2]+=j*n);var T=Ye(i,u),x=Qe(T,{"background-color":r===Ke.jpg?"#FFF":null}),O=x.getImageData(0,0,i,u),U=O.data,R=0;for(l=0,d=0;R<i*u;l+=3,d+=4,R++)U[d]=Math.ceil(D[l]),U[d+1]=Math.ceil(D[l+1]),U[d+2]=Math.ceil(D[l+2]),U[d+3]=255;return x.putImageData(O,0,0),T}(n,t,r)}(e,t,s);return rt(o,s,r)},resize:async(e,t,{quality:r=1,type:n=Ge}={})=>{const{width:s,height:o}=e;let[i=0,u=i]=M(t)?t:[t,t];0==i&&(i=s*(u/o)),0==u&&(u=o*(i/s));const a=Ye(i,u),c=Qe(a,{imageSmoothingEnabled:!1}),l=Ye(.5*s,.5*o);Qe(l,{imageSmoothingEnabled:!1}).drawImage(l,0,0,.5*s,.5*o),c.drawImage(l,0,0,.5*s,.5*o,0,0,i,u);const h=Ze(n||await Xe(e));return rt(a,h||Ke.png,r)},rotate:async(e,t=1,r=Ge)=>{const n=t>0?90:t<0?-90:0,s=Math.max(e.width,e.height),o=e.naturalWidth,i=e.naturalHeight,u=0!==n?i:o,a=0!==n?o:i,c=Ze(r||await Xe(e)),l=Ye(s,s),h=Qe(l,{imageSmoothingEnabled:!1,"background-color":c===Ke.jpg?"#FFF":null});h.translate(l.width/2,l.height/2),h.rotate(n*Math.PI/180),h.translate(-l.width/2,-l.height/2),h.drawImage(e,(l.width-o)/2,(l.height-i)/2);const f=h.getImageData((s-u)/2,(s-a)/2,u,a),p=Ye(u,a);return Qe(p,{imageSmoothingEnabled:!1,"background-color":c===Ke.jpg?"#FFF":null}).putImageData(f,0,0),rt(p,c,1)},flipFlop:st,convertType:async(e,t)=>{const r=Ye(e.width,e.height);return Qe(r,{"background-color":t===Ke.jpg?"#FFF":null}).drawImage(e,0,0),rt(r,t,1)},getLightness:e=>{let t=0;const r=nt(e),n=Qe(r).getImageData(0,0,r.width,r.height).data;let s,o,i,u;for(let e=0,r=n.length;e<r;e+=4)s=n[e],o=n[e+1],i=n[e+2],u=Math.floor((s+o+i)/3),t+=u;return Math.floor(t/(e.width*e.height))},white2transparent:async(e,t)=>{const r=e.width,n=e.height,s=nt(e),o=Qe(s),i=o.getImageData(0,0,r,n),u=i.data;for(let e=0;e<u.length;e+=4)u[e+0]>=255-t&&u[e+1]>=255-t&&u[e+2]>=255-t&&(u[e+3]=0);return o.putImageData(i,0,0),rt(s,Ke.png,1)}};var it={FileHelper:$e,ImageHelper:class extends $e{async getImage(e){if(e instanceof Image)return e;if("string"==typeof e)return ot.urlToImage(e);if(e instanceof Blob)return ot.blobToImage(e);if(e instanceof HTMLCanvasElement)return ot.canvasToImage(e);throw Error("Cannot convert input to type Image")}async getBlob(e,t,r){return e instanceof Image?ot.imageToBlob(e,t,r):e instanceof HTMLCanvasElement?ot.canvasToBlob(e,t,r):super.getBlob(e,t,r)}async resize(e,t,r){const n=await this.getImage(e);return ot.resizeByScale(n,Math.min(1,t/Math.max(n.width,n.height)),r)}async rotate(e,t){const r=ot.parseContentType(e.type),n=await this.getImage(e);return ot.rotate(n,t,r)}async flipHorizontally(e){return this.flipFlop(e,!0)}async flipVertically(e){return this.flipFlop(e,!1,!0)}async flipFlop(e,t,r,n){const s=await this.getImage(e);return ot.flipFlop(s,t,r,n)}async convertType(e,t){const r=await this.getImage(e);return ot.convertType(r,t)}async getLightness(e){const t=await this.getImage(e);return ot.getLightness(t)}async white2transparent(e,t=0){const r=await this.getImage(e);return ot.white2transparent(r,t)}}};r(27),r(28),r(29),r(30);class ut{constructor(e,t,r){this._value=e,this._parent=t,this._level=t?t.level+1:0,this._tree=r,this._children=[]}get value(){return this._value}set value(e){this._value=e}get parent(){return this._parent}get level(){return this._level}get children(){return this._children}set children(e){this._children=e}add(e,t={}){t.parents=[this],this._tree.add(e,t)}getOffspring(){return this._tree.getOffspring(this)}getAncestors(){return this._tree.getAncestors(this)}getRoot(){return this._tree.getRoots(this)[0]}*[Symbol.iterator](){for(const e of this.children)yield e}}var at=ut;const ct=({tree:e,nodes:t})=>(q(t)||(t=[t]),H(t).flatMap(t=>t instanceof at?t:e.getNodes(t)));const lt=e=>e;class ht{constructor(e=[],{fkSelector:t=null,parentsSelector:r=null,valueSelector:n=lt}){this._fkSelector=t,this._parentsSelector=r,this._valueSelector=n,this._roots=new Set,this._nodes=new Set,q(e)&&this.addRange(e)}add(e,{parents:t=[],position:r,fkSelector:n=this._fkSelector,parentsSelector:s=this._parentsSelector,valueSelector:o=this._valueSelector}={}){return this.addRange([e],{parents:t,position:r,fkSelector:n,parentsSelector:s,valueSelector:o})}addRange(e,{parents:t=[],position:r,fkSelector:n=this._fkSelector,parentsSelector:s=this._parentsSelector,valueSelector:o=this._valueSelector}={}){const u=this.getNodes();"number"==typeof r&&(r+=i);const a=H(e).map((e,i)=>{"number"==typeof r&&(r+=i);let a=[...t];return a.length||(a=n?u.filter(t=>n(o(e),o(t.value))):u.filter(t=>(s(o(e))||[]).includes(o(t.value)))),a.length||(a=[null]),a.map(t=>{const i=new at(o(e),t,this);let a=u.length;if(t){(null==r||r>=t.children.length-1)&&(r=t.children.length);const e=t.children[r-1];t.children.splice(r,0,i),a=u.indexOf(e||t)+1}else(null==r||r>=u.length)&&(r=u.length),a=r;return u.splice(a,0,i),i.children=u.filter(t=>n?n(t.value,e):(s(t.value)||[]).includes(e)),i})});return this._nodes=new Set(u),a}moveRoot(e,t){const r=this.getNodes(),n=this.getNodes(e);for(const e of n)r.remove(e);n.reverse();for(const e of n)null==t?r.push(e):r.splice(t,0,e);this._nodes=new Set(r)}remove(e){return this.removeRange([e])}removeRange(e){const t=this.getNodes(e),r=[...t,...this.getOffspring(t)];for(const e of r.map(e=>e.parent))e.children=J(e.children,r);this._nodes=new Set(J(this._nodes,r))}clear(){for(const e of this._nodes)e.value=null;this._nodes=new Set}getNodes(e){if(void 0===e)return[...this._nodes];q(e)||(e=[e]);const t=H(e);return[...this._nodes].filter(e=>t.includes(e.value))}getRoots(e=null){if(!e)return[...this._nodes].filter(e=>null===e.parent);e instanceof at&&(e=[e]);const t=e.map(e=>{let t=e;for(;t.parent;)t=t.parent;return t});return V(t)}getAncestors(e){const t=e=>e.parent?[e.parent].concat(t(e.parent)):[],r=ct({tree:this,nodes:e}).flatMap(t);return V(r)}getOffspring(e){const t=e=>e.children.length>0?[...e.children,...e.children.flatMap(t)]:[];return ct({tree:this,nodes:e}).flatMap(t)}getValues(){return this.getNodes().map(e=>e.value)}*[Symbol.iterator](){yield*this.getValues().values()}static injectArrayPrototype(){Object.getOwnPropertyNames(Array.prototype).forEach(e=>{"constructor"===e||ht.prototype.hasOwnProperty(e)||Object.defineProperty(ht.prototype,e,{value:function(){return Array.prototype[e].apply([...this],[...arguments])},configurable:!0})})}}var ft=ht,pt={arrayUtility:te,colorUtility:Ve,datetimeUtility:le,fileUtility:Ne,htmlUtility:D,httpUtility:T,imageUtility:ot,numberUtility:N,objectUtility:I,promiseUtility:de,stringUtility:F};t.default={entities:x,events:O,extensions:ye,firebase:Ue,identity:Ie,io:it,polyfills:void 0,Treelist:ft,utilities:pt}}])}));